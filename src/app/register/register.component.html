<h2 class="text-center">User register</h2>

<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="col-md-6 offset-md-3">
  <div class="form-group row">
    <label class="col">Email
      <input formControlName="email" [(ngModel)]="user.email" type="email" class="form-control"></label>
  </div>
  <div class="alert alert-danger" role="alert"
  *ngIf="registerForm.get('email').hasError('required') && registerForm.get('email').touched">
    Email is required!
  </div>
  <fieldset formGroupName="pwGroup">
    <div class="form-group row">
      <label class="col">
        Password
        <input formControlName="password" [(ngModel)]="user.password" type="password" class="form-control">
      </label>
      <label class="col">
        Confirm Password
        <input formControlName="confirmPassword" type="password" class="form-control">
      </label>
    </div>
  </fieldset>
  <div class="alert alert-danger" role="alert"
  *ngIf="registerForm.hasError('passwordnotmatch', ['pwGroup']) && registerForm.get('pwGroup').touched">
    Password does not match!
  </div>

  <div class="form-group">
    <label>Country </label>
    <select class="form-control" formControlName="country" [(ngModel)]="user.country">
      <option value="USA">USA</option>
      <option value="VN">VN</option>
      <option value="China">China</option>
      <option value="Canada">Canada</option>
      <option value="France">France</option>
    </select>
  </div>

  <div class="form-group">
    <label>Age</label>
    <input formControlName="age" [(ngModel)]="user.age" type="number" class="form-control" >
  </div>
  <div *ngIf="registerForm.get('age').hasError('required') && registerForm.get('age').touched">
    <div class="alert alert-danger" role="alert">Age is required</div>
  </div>
  <div *ngIf="registerForm.get('age').hasError('min') && registerForm.get('age').touched">
    <div class="alert alert-danger" role="alert">You have to be over 18 to register an account</div>
  </div>

  <div class="form-group">
    <label>Gender</label>
    <div class="form-check">
      <label class="form-check-label">
        <input formControlName="gender" [(ngModel)]="user.gender" type="radio" class="form-check-input" value="male">Male
      </label>
    </div>
    <div class="form-check">
      <label class="form-check-label">
        <input formControlName="gender" [(ngModel)]="user.gender" type="radio" class="form-check-input" value="female">Female
      </label>
    </div>
    <div class="form-check">
      <label class="form-check-label">
        <input formControlName="gender" [(ngModel)]="user.gender" type="radio" class="form-check-input" value="other">Other
      </label>
    </div>
  </div>

  <div class="form-group row">
    <label class="col">
      Phone
      <input type="tel" class="form-control" formControlName="phone" [(ngModel)]="user.phone" placeholder="+841234567890">
    </label>
  </div>
  <div class="alert alert-danger" role="alert" *ngIf="registerForm.get('phone').invalid && registerForm.get('phone').touched">
    <span *ngIf="registerForm.get('phone').hasError('required')">Phone is required</span>
    <span *ngIf="registerForm.get('phone').hasError('pattern')">Phone must start with +84 followed by 9 or 10 digits.</span>
  </div>

  <div class="form-group">
    <button type="submit" class="btn btn-info">Submit</button>
  </div>
</form>
